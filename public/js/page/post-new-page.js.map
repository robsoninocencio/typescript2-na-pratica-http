{"version":3,"file":"post-new-page.js","sourceRoot":"","sources":["../../../src/page/post-new-page.ts"],"names":[],"mappings":";;;IAIA;QACE,qBAAoB,QAAkB;YAAlB,aAAQ,GAAR,QAAQ,CAAU;YACpC,IAAI,CAAC,IAAI,EAAE,CAAC;QACd,CAAC;QAED,0BAAI,GAAJ;YAAA,iBAQC;YAPC,QAAQ;iBACL,aAAa,CAAC,UAAU,CAAC;iBACzB,gBAAgB,CAAC,QAAQ,EAAE,UAAC,KAAY;gBACvC,KAAK,CAAC,cAAc,EAAE,CAAC;gBACvB,KAAI,CAAC,MAAM,EAAE,CAAC;gBACd,MAAM,CAAC,KAAK,CAAC;YACf,CAAC,CAAC,CAAC;QACP,CAAC;QAED,4BAAM,GAAN;YAAA,iBAOC;YANC,IAAI,CAAC,QAAQ;iBACV,IAAI,CAAC;gBACJ,KAAK,EAAE,cAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC;gBACvC,IAAI,EAAE,cAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC;aACtC,CAAC;iBACD,IAAI,CAAC,UAAC,GAAG,IAAK,OAAA,KAAI,CAAC,YAAY,EAAE,EAAnB,CAAmB,CAAC,CAAC;QACxC,CAAC;QAED,6BAAO,GAAP,cAAoB,CAAC;QAErB,kCAAY,GAAZ;YACE,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,sBAAsB,CAAC;QAChD,CAAC;QACH,kBAAC;IAAD,CAAC,AA7BD,IA6BC;;IAED,IAAI,WAAW,CAAC,IAAI,mBAAQ,EAAE,CAAC,CAAC","sourcesContent":["import Page from \"./page\";\nimport PostHttp from \"../http/post-http\";\nimport Form from \"../components/form\";\n\nexport default class PostNewPage implements Page {\n  constructor(private postHttp: PostHttp) {\n    this.init();\n  }\n\n  init(): void {\n    document\n      .querySelector(\"#my-form\")\n      .addEventListener(\"submit\", (event: Event) => {\n        event.preventDefault();\n        this.submit();\n        return false;\n      });\n  }\n\n  submit() {\n    this.postHttp\n      .save({\n        title: Form.getValueFromField(\"#title\"),\n        body: Form.getValueFromField(\"#body\"),\n      })\n      .then((obj) => this.goToPostList());\n  }\n\n  isValid(): boolean {}\n\n  goToPostList(): void {\n    window.location.href = \"/post/post-list.html\";\n  }\n}\n\nnew PostNewPage(new PostHttp());\n"]}